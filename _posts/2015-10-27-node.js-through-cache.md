---
layout: post
section-type: post
title: 缓存之缓存失效
category: Cache
tags: [ 'Node.js', 'cache', 'redis', 'db' ]
---

　　缓存主要用于解决大并发下数据库请求操作造成的慢访问慢操作问题。

　　使用缓存可以减少服务器压力，防止系统雪崩，加快请求速度，提高用户体验。既然缓存如此重要，那么缓存的使用至关重要。

　　本文主要聊一聊缓存失效的问题。首先我们需要搞清楚，当缓存失效时，如果突然来了大量请求，会发生什么？假如在缓存失效时突然来了100个用户请求，100个用户同时请求服务器，那么服务器通过缓存未查询到数据，那么这100个请求将去查询数据库，瞬时数据库多了100个请求，然后请求完毕后都会对缓存进行设置。后续的请求再次查询才可以从缓存当中查询到结果。

　　![缓存失效](/img/blog/2015-11-01/cache_expire.png)

如果突然同时来了大量请求，那么将会对系统造成压力，使系统震荡，甚至引发系统雪崩。
问题很明显,当缓存失效时,大量请求同时穿透缓存进行数据库访问,那么如何把这个量减少到最小？

未完。。。
